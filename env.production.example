# ============================================================
#  SMTPFlow — Produzione (Docker Compose su VPS)
#  Copia in .env.production e compila le variabili
#  poi avvia con:  docker compose --env-file .env.production up -d
# ============================================================

NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# URL pubblico (con https se hai SSL davanti)
BASE_URL=https://smtp.tuodominio.com
CORS_ORIGIN=https://smtp.tuodominio.com

# ── Database ────────────────────────────────────────────────
DB_HOST=db
DB_PORT=5432
DB_NAME=smtpflow
DB_USER=smtpflow
DB_PASS=CAMBIA_QUESTA_PASSWORD_DB   # openssl rand -hex 24

# ── Redis ───────────────────────────────────────────────────
REDIS_HOST=redis
REDIS_PORT=6379

# ── JWT ─────────────────────────────────────────────────────
JWT_SECRET=CAMBIA_QUESTO_SEGRETO_JWT   # openssl rand -hex 64

# ── SMTP ────────────────────────────────────────────────────
SMTP_PORT=587
SMTP_PORT_SSL=465
SMTP_HOSTNAME=smtp.tuodominio.com      # dominio reale del server MTA

# ── Relay → Postfix container ───────────────────────────────
RELAY_PROVIDER=postfix
RELAY_HOST=postfix
RELAY_PORT=587
RELAY_SECURE=false

# ── DKIM ─────────────────────────────────────────────────────
DKIM_KEYS_DIR=/dkim-keys
DKIM_MODE=docker

# ── Bounce ──────────────────────────────────────────────────
BOUNCE_SECRET=CAMBIA_QUESTO_SEGRETO_BOUNCE   # openssl rand -hex 32
BOUNCE_ADDRESS=bounce

# ── Admin (primo avvio — cambia subito dopo il login) ───────
ADMIN_EMAIL=admin@smtp.tuodominio.com
ADMIN_PASS=CAMBIA_QUESTA_PASSWORD_ADMIN   # min 12 caratteri

# ── Logging ──────────────────────────────────────────────────
LOG_LEVEL=info
